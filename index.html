<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>LouLou's | Door List</title>

  <style>
    :root{
      --blue:#6E8FF0;
      --blue2:#5D7EE8;
      --bg:#F2F4FA;
      --card:#ffffff;
      --text:#111827;
      --muted:#6B7280;
      --line:#E5E7EB;
      --pill:#EEF2FF;
    }

    *{ box-sizing:border-box; margin:0; padding:0; -webkit-tap-highlight-color:transparent; }
    body{
      background:var(--bg);
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      min-height:100vh;
    }

    .topbar{
      background:linear-gradient(0deg, var(--blue), var(--blue2));
      color:white;
      padding:16px 16px 12px;
      position:sticky;
      top:0;
      z-index:50;
      box-shadow:0 8px 24px rgba(17,24,39,0.18);
    }

    .topbar-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .brand{
      font-weight:800;
      font-size:24px;
      letter-spacing:0.01em;
    }

    .event-title{
      margin-top:4px;
      opacity:0.92;
      font-size:14px;
      font-weight:600;
    }

    .count{
      font-size:13px;
      opacity:0.95;
      white-space:nowrap;
      font-weight:600;
    }

    .tabs{
      margin-top:12px;
      display:flex;
      gap:10px;
      overflow-x:auto;
      padding-bottom:4px;
      scrollbar-width:none;
    }
    .tabs::-webkit-scrollbar{ display:none; }

    .tab{
      border:none;
      background:rgba(255,255,255,0.22);
      color:white;
      padding:10px 14px;
      border-radius:12px;
      cursor:pointer;
      font-weight:700;
      font-size:14px;
      display:flex;
      align-items:center;
      gap:8px;
      white-space:nowrap;
    }
    .tab.active{
      background:white;
      color:#1F2A44;
    }

    .subbar{
      background:var(--bg);
      padding:12px 16px;
      position:sticky;
      top:110px;
      z-index:40;
      display:flex;
      gap:10px;
      align-items:center;
      border-bottom:1px solid rgba(229,231,235,0.8);
    }

    select, input{
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px 12px;
      font-size:16px;
      outline:none;
      background:white;
    }
    select{ width:220px; max-width:48vw; }
    input{ flex:1; min-width:0; }

    .content{ padding:16px; }

    .grid{
      display:grid;
      grid-template-columns:repeat(4, 1fr);
      gap:12px;
    }
    @media (min-width: 760px){
      .grid{ grid-template-columns:repeat(6, 1fr); }
      .subbar{ top:116px; }
    }
    @media (min-width: 1100px){
      .grid{ grid-template-columns:repeat(7, 1fr); }
    }

    .card{
      background:var(--card);
      border-radius:16px;
      overflow:hidden;
      box-shadow:0 8px 20px rgba(17,24,39,0.08);
      cursor:pointer;
      user-select:none;
      touch-action:manipulation;
      position:relative;
      transition:transform 120ms ease;
    }
    .card:active{ transform:scale(0.98); }

    .card.checked::after{
      content:"‚úì";
      position:absolute;
      top:10px;
      right:10px;
      width:22px;
      height:22px;
      border-radius:999px;
      background:#2563EB;
      color:white;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      font-size:12px;
      box-shadow:0 6px 14px rgba(37,99,235,0.35);
      z-index:2;
    }

    .photo{
      width:100%;
      aspect-ratio:1/1;
      background:#DCE6FF;
      position:relative;
      overflow:hidden;
    }
    .photo img{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center;
      display:block;
      pointer-events:none;
    }
    .initial{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      font-size:28px;
      color:#27408F;
      opacity:0.65;
      pointer-events:none;
    }

    .meta{
      padding:10px 10px 12px;
    }
    .name{
      font-weight:800;
      font-size:13px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .type{
      margin-top:4px;
      font-size:11px;
      font-weight:800;
      letter-spacing:0.06em;
      text-transform:uppercase;
      color:#3B82F6;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .overlay{
      position:fixed;
      inset:0;
      background:rgba(17,24,39,0.55);
      display:none;
      z-index:100;
    }
    .overlay.open{ display:block; }

    .sheet{
      position:fixed;
      left:0; right:0; bottom:0;
      background:white;
      border-radius:22px 22px 0 0;
      max-height:92vh;
      overflow:auto;
      transform:translateY(100%);
      transition:transform 220ms cubic-bezier(0.32,0.72,0,1);
      z-index:101;
      padding-bottom:24px;
    }
    .sheet.open{ transform:translateY(0); }

    .handle{
      width:42px;
      height:5px;
      background:#E5E7EB;
      border-radius:999px;
      margin:12px auto 0;
    }

    .detail-head{
      padding:18px 18px 8px;
      text-align:center;
    }
    .avatar{
      width:110px;
      height:110px;
      border-radius:999px;
      margin:10px auto 10px;
      overflow:hidden;
      background:#EEF2FF;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      font-size:40px;
      color:#27408F;
    }
    .avatar img{
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center;
    }
    .detail-name{
      font-size:26px;
      font-weight:900;
      letter-spacing:0.01em;
    }
    .detail-type{
      margin-top:6px;
      font-size:12px;
      font-weight:900;
      letter-spacing:0.12em;
      text-transform:uppercase;
      color:#3B82F6;
    }

    .section{
      padding:10px 18px 0;
    }
    .section-title{
      margin-top:12px;
      margin-bottom:10px;
      font-size:12px;
      font-weight:900;
      letter-spacing:0.16em;
      text-transform:uppercase;
      color:#6B7280;
    }

    .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 0;
      border-top:1px solid var(--line);
      gap:12px;
    }
    .label{
      font-size:16px;
      font-weight:800;
      display:flex;
      align-items:center;
      gap:10px;
      color:#111827;
    }

    .toggle{
      width:54px;
      height:32px;
      position:relative;
      flex:0 0 auto;
    }
    .toggle input{ opacity:0; width:0; height:0; }
    .slider{
      position:absolute;
      inset:0;
      background:#E5E7EB;
      border-radius:999px;
      cursor:pointer;
      transition:background 160ms ease;
    }
    .slider::before{
      content:"";
      position:absolute;
      width:26px;
      height:26px;
      left:3px;
      top:3px;
      background:white;
      border-radius:999px;
      box-shadow:0 2px 8px rgba(0,0,0,0.12);
      transition:transform 160ms ease;
    }
    .toggle input:checked + .slider{ background:#3B82F6; }
    .toggle input:checked + .slider::before{ transform:translateX(22px); }

    .pillrow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      background:var(--pill);
      border:1px solid rgba(59,130,246,0.15);
      padding:10px 12px;
      border-radius:999px;
      text-decoration:none;
      font-weight:800;
      color:#1F2A44;
      font-size:14px;
    }

    .field{
      margin-top:12px;
      border-top:1px solid var(--line);
      padding-top:12px;
    }
    .field label{
      display:block;
      font-size:12px;
      font-weight:900;
      letter-spacing:0.16em;
      text-transform:uppercase;
      color:#6B7280;
      margin-bottom:8px;
    }
    .field input, .field textarea{
      width:100%;
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px 12px;
      font-size:16px;
      outline:none;
    }
    .field textarea{ min-height:90px; resize:none; }

    .save{
      margin-top:14px;
      width:100%;
      border:none;
      border-radius:14px;
      padding:16px 14px;
      background:#2563EB;
      color:white;
      font-weight:900;
      letter-spacing:0.16em;
      text-transform:uppercase;
      cursor:pointer;
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-row">
      <div>
        <div class="brand">LouLou's</div>
        <div class="event-title" id="eventTitle">L'Atelier | March 28th</div>
      </div>
      <div class="count" id="count">0 people</div>
    </div>

    <div class="tabs">
      <button class="tab active" data-tab="door" type="button">üë• Door List</button>
      <button class="tab" data-tab="guests" type="button">üî• Guests</button>
      <button class="tab" data-tab="working" type="button">üé≠ Working</button>
      <button class="tab" data-tab="ndas" type="button">‚úçÔ∏è NDAs</button>
    </div>
  </div>

  <div class="subbar">
    <select id="eventSelect">
      <option value="atelier">L'Atelier | March 28th</option>
      <option value="dnd">Do Not Disturb | Feb 28th</option>
    </select>
    <input id="search" placeholder="Search guests..." />
  </div>

  <div class="content" id="content">
    <div class="grid" id="grid"></div>
  </div>

  <div class="overlay" id="overlay"></div>
  <div class="sheet" id="sheet" role="dialog" aria-modal="true">
    <div class="handle"></div>
    <div id="detail"></div>
  </div>

  <script>
    const sampleGuests = [
      { id:"1", name:"Arianna Gilbeaux", type:"Dinner Guest", photo:"", checked:true, vip:true, nda:true, sti:false, email:"", phone:"", instagram:"" },
      { id:"2", name:"Boykin Curry", type:"After Guests", photo:"", checked:false, vip:false, nda:false, sti:false, email:"", phone:"", instagram:"" },
      { id:"3", name:"Christina Harley", type:"Dinner Guest", photo:"", checked:false, vip:false, nda:true, sti:true, email:"", phone:"", instagram:"" },
      { id:"4", name:"Colin Flynn", type:"Working", photo:"", checked:true, vip:false, nda:true, sti:false, email:"", phone:"", instagram:"" },
      { id:"5", name:"Evan Plomaritis", type:"After Guests", photo:"", checked:false, vip:true, nda:false, sti:false, email:"", phone:"", instagram:"" },
      { id:"6", name:"Heather Futterman", type:"Dinner Guest", photo:"", checked:false, vip:false, nda:true, sti:true, email:"", phone:"", instagram:"" },
    ];

    const state = { tab:"door", q:"", guests:[...sampleGuests], current:null };

    const grid = document.getElementById("grid");
    const count = document.getElementById("count");
    const overlay = document.getElementById("overlay");
    const sheet = document.getElementById("sheet");
    const detail = document.getElementById("detail");

    function isWorking(t){
      const s = (t||"").toLowerCase();
      return s.includes("working") || s.includes("staff") || s.includes("work");
    }

    function filtered(){
      let list = state.guests.slice();
      if (state.q) list = list.filter(g => (g.name||"").toLowerCase().includes(state.q));
      if (state.tab === "guests") list = list.filter(g => !isWorking(g.type));
      if (state.tab === "working") list = list.filter(g => isWorking(g.type));
      if (state.tab === "ndas") list = list.filter(g => !g.nda);
      return list;
    }

    function render(){
      const list = filtered();
      count.textContent = list.length + " people";
      grid.innerHTML = "";
      for (const g of list){
        const card = document.createElement("div");
        card.className = "card" + (g.checked ? " checked" : "");
        card.setAttribute("role","button");
        card.setAttribute("tabindex","0");

        const photo = document.createElement("div");
        photo.className = "photo";
        if (g.photo){
          const img = document.createElement("img");
          img.src = g.photo;
          img.alt = g.name;
          photo.appendChild(img);
        } else {
          const init = document.createElement("div");
          init.className = "initial";
          init.textContent = (g.name||"U").charAt(0);
          photo.appendChild(init);
        }

        const meta = document.createElement("div");
        meta.className = "meta";
        meta.innerHTML = `<div class="name">${g.name}</div><div class="type">${g.type}</div>`;

        card.appendChild(photo);
        card.appendChild(meta);

        const open = () => openDetail(g);
        card.addEventListener("pointerup", (e) => {
          if (e && typeof e.button === "number" && e.button !== 0) return;
          open();
        });
        card.addEventListener("click", open);
        card.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") { e.preventDefault(); open(); }
        });

        grid.appendChild(card);
      }
    }

    function openDetail(g){
      state.current = g;

      detail.innerHTML = `
        <div class="detail-head">
          <div class="avatar">${g.photo ? `<img src="${g.photo}" alt="${g.name}" />` : (g.name||"U").charAt(0)}</div>
          <div class="detail-name">${g.name}</div>
          <div class="detail-type">${g.type}</div>
        </div>

        <div class="section">
          <div class="section-title">Check-In</div>

          ${toggleRow("‚úì Checked In", "checked", g.checked)}
          ${toggleRow("üéóÔ∏è VIP Wristband", "vip", g.vip)}
          ${toggleRow("‚úçÔ∏è NDA Signed", "nda", g.nda)}
          ${toggleRow("üß™ STI Verified", "sti", g.sti)}

          <div class="field">
            <label>Coat Check #</label>
            <input id="coat" placeholder="e.g. 69" value="${g.coat || ""}">
          </div>

          <div class="field">
            <label>Door Notes</label>
            <textarea id="notes" placeholder="Enter any notes">${g.notes || ""}</textarea>
          </div>

          <button class="save" id="saveBtn" type="button">Save</button>
        </div>
      `;

      document.getElementById("saveBtn").addEventListener("click", () => {
        g.checked = document.getElementById("t_checked").checked;
        g.vip = document.getElementById("t_vip").checked;
        g.nda = document.getElementById("t_nda").checked;
        g.sti = document.getElementById("t_sti").checked;
        g.coat = document.getElementById("coat").value.trim();
        g.notes = document.getElementById("notes").value.trim();
        closeDetail();
        render();
      });

      overlay.classList.add("open");
      sheet.classList.add("open");
    }

    function toggleRow(label, key, checked){
      return `
        <div class="row">
          <div class="label">${label}</div>
          <label class="toggle">
            <input type="checkbox" id="t_${key}" ${checked ? "checked" : ""}>
            <span class="slider"></span>
          </label>
        </div>
      `;
    }

    function closeDetail(){
      sheet.classList.remove("open");
      overlay.classList.remove("open");
      detail.innerHTML = "";
      state.current = null;
    }

    overlay.addEventListener("click", closeDetail);

    document.querySelectorAll(".tab").forEach(btn => {
      btn.addEventListener("click", () => {
        state.tab = btn.dataset.tab;
        document.querySelectorAll(".tab").forEach(b => b.classList.toggle("active", b === btn));
        render();
      });
    });

    document.getElementById("search").addEventListener("input", (e) => {
      state.q = (e.target.value || "").trim().toLowerCase();
      render();
    });

    render();
  </script>
</body>
</html>
